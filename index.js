async function Tocon_owner_721(campaignId,location){let contractAddress;fetch(`https://staging.tocon.online/campaign/api/v1/tocon-assets/online/${campaignId}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(response=>response.json()).then(response=>{console.log(response);contractAddress=response.contractAddress}).then(async()=>{console.log("Requesting account...");if(window.ethereum){console.log(window.ethereum);const web3=new Web3(window.ethereum);try{const account=await window.ethereum.request({method:"eth_requestAccounts"});console.log(account);const toconTokenABI=[{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"}];const contract=new web3.eth.Contract(toconTokenABI,contractAddress.toLowerCase());const address=window.ethereum.selectedAddress;const tokenBalance=await contract.methods.balanceOf(address).call();console.log("The number of the token's owned by the user:",tokenBalance);if(tokenBalance>0){window.location.href=location}}catch(error){console.log("Error connecting...",error)}}else{alert("Meta Mask not detected")}})}async function Tocon_owner_1155(campaignId,id){let contractAddress;fetch(`https://staging.tocon.online/campaign/api/v1/tocon-assets/online/${campaignId}`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(response=>response.json()).then(response=>{console.log(response);contractAddress=response.contractAddress}).then(async()=>{console.log("Requesting account...");if(window.ethereum){console.log(window.ethereum);const web3=new Web3(window.ethereum);try{const account=await window.ethereum.request({method:"eth_requestAccounts"});console.log(account);const toconTokenABI=[{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"uint256",name:"id",type:"uint256"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}];const Id=id;const contract=new web3.eth.Contract(toconTokenABI,contractAddress.toLowerCase());const address=window.ethereum.selectedAddress;const tokenBalance=await contract.methods.balanceOf(address,Id).call();console.log("The number of the token's owned by the user:",tokenBalance)}catch(error){console.log("Error connecting...",error)}}else{alert("Meta Mask not detected")}})}
